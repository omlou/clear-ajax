!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=t():"object"==typeof exports?exports=t():"object"==typeof e?e.ajax=t().ajax:"object"==typeof window?window.ajax=t().ajax:console.warn("clear-ajax startup failure.")}(this,(function(){function e(e){let t=[];if(e instanceof Object)for(let o in e)t.push(encodeURIComponent(o)+"="+encodeURIComponent(e[o]));return t.join("&")}return{ajax:function(t){return new Promise((function(o,r){var n=new XMLHttpRequest;n.addEventListener("load",(e=>{if(t.getResponse){var s={},a=n.getAllResponseHeaders().split("\r\n");for(let e of a){let t=e.split(": ");t[0]&&(s[t[0]]=t[1])}t.getResponse(s)}var{status:d}=n;200==d?o(n.response):r({status:d,result:n,error:e})})),n.addEventListener("error",(e=>{r({status:n.status,result:n,error:e})})),n.addEventListener("timeout",(e=>{r({status:n.status,result:n,error:e})})),t.uploadProgress&&(n.upload.addEventListener("loadstart",(e=>{t.uploadProgress(e)})),n.upload.addEventListener("progress",(e=>{t.uploadProgress(e)})),n.upload.addEventListener("load",(e=>{t.uploadProgress(e)})),n.upload.addEventListener("loadend",(e=>{t.uploadProgress(e)})),n.upload.addEventListener("error",(e=>{t.uploadProgress(e)})));t.downloadProgress&&(n.addEventListener("loadstart",(e=>{t.downloadProgress(e)})),n.addEventListener("progress",(e=>{t.downloadProgress(e)})),n.addEventListener("loadend",(e=>{t.downloadProgress(e)})));var s=t.method,{url:a,params:d={},data:i={},headers:p,timeout:u,responseType:l,withCredentials:c}=t,f=!1;s=s?s.toUpperCase():"GET";new Set(["GET","DELETE","HEAD","OPTIONS","TRACE"]).has(s)&&(f=!0);a+=function(t,o){if(!o)return"";var r=o instanceof Object?e(o):o;return-1!==t.indexOf("?")?"&"+r:"?"+r}(a,d),n.open(s,a,!0),void 0!==c&&(n.withCredentials=c);n.responseType=l||"json";for(let e in p)n.setRequestHeader(e,p[e]),e=e.toLowerCase();p&&p["content-type"]||"FormData"==i.constructor.name?p&&p["content-type"]&&-1!==p["content-type"].indexOf("application/json")&&i instanceof Object&&(i=JSON.stringify(i)):n.setRequestHeader("content-type","application/x-www-form-urlencoded;charset=UTF-8");n.timeout=u||6e4,n.send(f?null:function(t){return t?"string"==typeof t||t instanceof FormData?t:e(t):null}(i))}))}}}));